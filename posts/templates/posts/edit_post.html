{% extends 'layout.html' %}
{% block title %}Edit Post{% endblock %}
{% block content %}
<section>
    <h1>✏️ Edit Post</h1>
    <p>Update your post: "{{ post.title }}"</p>
    
    <form method="post" enctype="multipart/form-data" class="register-form">
        {% csrf_token %}
        
        <div class="form-group">
            <label for="{{ form.title.id_for_label }}" class="required">Title</label>
            {{ form.title }}
            {% if form.title.errors %}
                {{ form.title.errors }}
            {% endif %}
        </div>
        
        <div class="form-group">
            <label for="{{ form.slug.id_for_label }}" class="required">Slug</label>
            {{ form.slug }}
            {% if form.slug.help_text %}
                <span class="helptext">{{ form.slug.help_text }}</span>
            {% endif %}
            {% if form.slug.errors %}
                {{ form.slug.errors }}
            {% endif %}
        </div>
        
        <div class="form-group">
            <label for="{{ form.body.id_for_label }}" class="required">Content</label>
            {{ form.body }}
            {% if form.body.errors %}
                {{ form.body.errors }}
            {% endif %}
        </div>
        
        <div class="form-group">
            <label for="{{ form.banner.id_for_label }}">Banner Image</label>
            {% if post.banner %}
                <p>Current banner: <img src="{{ post.banner.url }}" alt="Current banner" style="max-width: 200px; display: block; margin: 10px 0;"></p>
            {% endif %}
            {{ form.banner }}
            {% if form.banner.help_text %}
                <span class="helptext">{{ form.banner.help_text }}</span>
            {% endif %}
            {% if form.banner.errors %}
                {{ form.banner.errors }}
            {% endif %}
        </div>
        
        <button type="submit" class="btn-register">Update Post</button>
        <a href="{% url 'posts:page' slug=post.slug %}" class="btn-cancel">Cancel</a>
    </form>
</section>
{% endblock %}

